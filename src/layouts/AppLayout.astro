---
import "../styles/reset.css";
import "../styles/variables.css";
import "../styles/global.css";

export interface Props {
  title?: string;
}

const { title } = Astro.props;
const baseTitle = "Anna Borja | Narrative Designer";
const homePath = "/";
const pathname = Astro.url.pathname;
---

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content={Astro.generator} />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <title>{title ? `${title} | ${baseTitle}` : baseTitle}</title>
  </head>

  <body class="theme-light">
    <div class="app-shell">
      <header class="app-header">
        {
          [
            { label: "Home", path: "/" },
            { label: "Projects", path: "/projects" },
            { label: "Skills", path: "/skills" },
            { label: "Blog", path: "/blog" },
          ].map(({ label, path }) => (
            <a
              class:list={[
                "app-nav-link",
                {
                  "app-nav-link-active": pathname === path,
                  "app-nav-link-home": path === homePath,
                },
              ]}
              href={path}
            >
              {label}
            </a>
          ))
        }
      </header>

      <main class="app-content">
        <slot />
      </main>

      <footer class="app-footer">
        <span class="copyright-statement"> Copyright Â© 2023 Anna Borja</span>
      </footer>
    </div>
  </body>
</html>

<style>
  .app-content {
    background-color: var(--color-neutral-0);
    flex-grow: 1;
  }

  .app-footer {
    background-color: var(--color-neutral-9);
    color: var(--color-neutral-2);
    margin-block-start: auto;
    padding-block: var(--spacing-4);
    padding-inline: var(--spacing-4);
    text-align: center;
  }

  .app-header {
    align-items: baseline;
    background-color: var(--color-neutral-9);
    color: var(--color-neutral-0);
    display: flex;
    gap: var(--spacing-6);
    min-block-size: var(--sizing-8);
    padding-block: var(--spacing-3);
    padding-inline: var(--spacing-4);
  }

  .app-nav-link {
    border-bottom-color: transparent;
    border-bottom-style: solid;
    border-bottom-width: var(--border-width-2);
    color: inherit;
    font-family: var(--font-family-serif);
    font-size: var(--font-size-2);
    padding-bottom: 1px;
    text-decoration: none;
    transition: border-bottom-color var(--transition-duration-2);
  }

  .app-nav-link:hover,
  .app-nav-link-active {
    border-bottom-color: var(--color-primary-1-3);
  }

  .app-nav-link-home {
    border-bottom-width: var(--border-width-3);
    font-size: var(--font-size-4);
    font-weight: var(--font-weight-2);
    padding-bottom: var(--spacing-0);
  }

  .app-shell {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .copyright-statement {
    font-size: var(--font-size-1);
  }

  @media (min-width: 768px) {
    .app-footer {
      padding-block: var(--spacing-5);
    }

    .app-header {
      padding-inline: var(--spacing-5);
    }
  }
</style>
